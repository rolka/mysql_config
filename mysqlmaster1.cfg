[client]
port    = 3306
socket    = /var/run/mysqld/mysqld.sock


[mysqld]

port    = 3306
socket  = /var/run/mysqld/mysqld.sock
pid_file = /var/run/mysqld/mysql.pid
datadir = /data/mysql/data
bind_address = 0.0.0.0

back_log = 200

tmpdir = /data/tmp


max_connections = 600

max_connect_errors = 1000000

table_open_cache = 2048

table_definition_cache  = 1024


max_allowed_packet = 16M

binlog_cache_size = 1M

max_heap_table_size = 64M

read_buffer_size = 2M

read_rnd_buffer_size = 16M

sort_buffer_size = 8M

join_buffer_size = 8M

thread_cache_size = 100

thread_concurrency = 8



query_cache_size = 268435456
query_cache_type=1
query_cache_limit=1048576


ft_min_word_len = 4


default-storage-engine = InnoDB

thread_stack = 192K

transaction_isolation = REPEATABLE-READ

tmp_table_size = 64M

log-bin=/data/mysql/data/mysql-bin.log

expire_logs_days = 5

sync_binlog = 1

slave_compressed_protocol = 1
skip-slave-start
replicate-do-db = workflow_prod


binlog_format=mixed




slow_query_log = 1

long_query_time = 2

log_queries_not_using_indexes  = 1

log_error = /var/log/mysql/mysql-error.log
slow_query_log_file  = /var/log/mysql/mysql-slow.log



server-id = 100






key_buffer_size = 32M

bulk_insert_buffer_size = 64M

myisam_sort_buffer_size = 128M

myisam_max_sort_file_size = 10G

myisam_repair_threads = 1

myisam_recover = FORCE,BACKUP



innodb_additional_mem_pool_size = 16M

innodb_buffer_pool_size = 55G

innodb_file_per_table = 1


innodb_write_io_threads = 8
innodb_read_io_threads = 8


innodb_thread_concurrency = 16

innodb_flush_log_at_trx_commit = 2


innodb_log_buffer_size = 8M

innodb_log_file_size = 8G

innodb_log_files_in_group = 2


innodb_max_dirty_pages_pct = 90

innodb_flush_method=O_DIRECT

innodb_lock_wait_timeout = 120


[mysqldump]
quick

max_allowed_packet = 16M


[mysql]
no-auto-rehash


[myisamchk]
key_buffer_size = 512M
sort_buffer_size = 512M
read_buffer = 8M
write_buffer = 8M

[mysqlhotcopy]
interactive-timeout

[mysqld_safe]
open_files_limit = 65535
